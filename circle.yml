test:
  override:
    - ./build.sh check-pypy
    - ./build.sh check-py27
    - ./build.sh check-py36

machine:
  pre:
    - brew update
    - brew install readline xz ncurses
    # I have no idea what this does, but it was suggested as a solution to
    # some install problems on OSX.
    - xcode-select --install

dependencies:
  override:
    - ./build.sh install-core

  cache_directories:
    - ~/.cache/hypothesis-build-runtimes
